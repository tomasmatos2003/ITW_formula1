<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>F1</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <link href="f1.css" rel="stylesheet" />
</head>
<body style="overflow-x:hidden">
    <div class="row" style="background-color:white">
        <div class="col-lg-4 col-md-4 col-sm-6" style="padding:30px 120px; height:80px">
            <a class="logColor" href="https://www.facebook.com/Formula1/" style="margin-right:20px"><i class="fa fa-facebook" aria-hidden="true"></i></a>
            <a class="logColor" href="https://www.instagram.com/f1" style="margin-right:20px"><i class="fa fa-instagram" aria-hidden="true"></i></a>
            <a class="logColor" href="https://www.youtube.com/channel/UCB_qr75-ydFVKSF9Dmo6izg" style="margin-right:20px"><i class="fa fa-youtube" aria-hidden="true"></i></a>
            <a class="logColor" href="https://twitter.com/f1" style="margin-right:20px"><i class="fa fa-twitter" aria-hidden="true"></i></a>
            <a class="logColor" href="https://www.snapchat.com/add/f1" style="margin-right:20px"><i class="fa fa-snapchat" aria-hidden="true"></i></a>
        </div>

        <div class="col-lg-4 col-md-4 col-sm-6" style="padding:5px 190px; height:80px">

            <a href="f1.html"><img src="img/f1logo.png" style="width: 80px; height: 80px;" /></a>


        </div>
        <div class="col-lg-4 col-md-4 col-sm-6">

            <div class="input-group" style="padding:10px 80px">
                <div style="padding: 10px 30px">
                    <a href="favoritos.html"><i class="fa fa-heart text-danger"></i></a>
                </div>
                <div class="form-outline">
                    <input type="search" id="form1" class="form-control" />
                    <label class="form-label" for="form1"></label>
                </div>
                <button type="button" class="btn btn-danger" style="height:38px">
                    <i class="fa fa-search" aria-hidden="true"></i>
                </button>
            </div>

        </div>
    </div>

    <div class="navbar1">
        <nav class="navbar navbar-expand-lg navbar-light bg-light" style="width:100%">
            <div class="container">
                <div style="margin-right: 30px">
                    <a class="navbar-brand">
                        <a href="f1.html"><img src="img/f1carro.png" style="width: 80px; height: 80px;" /></a>
                    </a>
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item" style=" padding:10px 60px">
                            <a class="nav-link active " aria-current="page" href="f1.html">News</a>
                        </li>
                        <li class="nav-item" style=" padding: 10px 60px">
                            <a class="nav-link" href="Teams.html">Teams</a>
                        </li>
                        <li class="nav-item" style=" padding: 10px 60px">
                            <a class="nav-link " href="driver1.html">Drivers</a>
                        </li>
                        <li class="nav-item dropdown" style="padding: 10px 60px">
                            <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Races
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="Races.html">All Time Races</a></li>
                                <li><a class="dropdown-item" href="Circuitos.html">Circuits Races</a></li>
                            </ul>

                        </li>

                        <li class="nav-item" style=" padding: 10px 40px">
                            <a class="nav-link" href="statistics.html">Statistics</a>
                        </li>
                        <li class="nav-item" style=" padding: 10px 40px ">
                            <a class="nav-link" href="outrosCountries.html">Others</a>
                        </li>
                        <li class="nav-item" style=" padding: 10px 65px; border-right:1px solid; ">
                            <a class="nav-link" href="bets.html">Bets</a>
                        </li>

                    </ul>
                </div>
            </div>
        </nav>
    </div>
    <div style="background-image:url('img/back (2).jpg')">
        <div class="row">
            <nav class="navbar navbar-light">
                <form class="container-fluid justify-content-start " style="padding:10px 400px">
                    <a href="outrosCountries.html"><button class="btn btn-danger me-2" type="button" style="width: 200px">Countries</button></a>
                    <a href="Nationalities.html"><button class="btn btn-danger me-2" type="button" style="width: 200px">Nationalities</button></a>
                    <a href="seasons.html"><button class="btn btn-light me-2" type="button" style="width: 200px">Seasons</button></a>


                </form>
            </nav>
        </div>
        <!-- Working Area -->
        <div class="container">
            <div class=" pt-4 pb-2 mb-3 text-center text-white">
                <h2 data-bind="text:displayName"></h2>

                <span data-bind="html: 'Page: ' + currentPage() + ' of ' + totalPages()"></span><br />
                <span data-bind="html: 'Seasons: '+ fromRecord() + '-' + toRecord() + ' of ' + totalRecords()"></span>
            </div>
            <!-- ko if:records().length > 0 -->
            <div class="row small" style="padding:10px 400px">

                <div class="col-8 my-0 pt-3">
                    <ul class="pagination float-end">
                        <!-- ko if: currentPage() > 5 && totalPages() > 10 -->
                        <li class="page-item float-end"><a class="page-link bg-light text-danger" title="First Page" data-bind="attr: { href: './seasons.html?page=' + '1',  rel:'prev'}">⇤</a></li>
                        <li class="page-item float-end"><a class="page-link bg-light text-danger" title="Previous Page" data-bind="attr: { href: './seasons.html?page=' + previousPage(),  rel:'prev'}">←</a></li>
                        <!-- /ko -->
                        <!-- ko foreach: pageArray()-->
                        <!-- ko if:$data == $parent.currentPage() -->
                        <li class="active page-item"><a style="border-color: #dc3545" class="page-link bg-light text-danger" data-bind="attr: { title:'Current Page ' + $data }, text: $data"></a></li>
                        <!-- /ko -->
                        <!-- ko if:$data != $parent.currentPage() -->
                        <li class="page-item"><a class="page-link bg-light text-danger" data-bind="attr: { href: './seasons.html?page=' + $data, title:'Goto Page ' + $data }, text:$data"></a></li>
                        <!-- /ko -->
                        <!-- /ko -->
                        <!-- ko if: currentPage() < totalPages() - 4 && totalPages() > 9 -->
                        <li class="page-item"><a class="page-link bg-light text-danger" title="Next Page" data-bind="attr: { href: './seasons.html?page=' + nextPage(), rel:'next' }">→</a></li>
                        <li class="page-item"><a class="page-link bg-light text-danger" title="Last Page" data-bind="attr: { href: './seasons.html?page=' + totalPages() }">⇥</a></li>
                        <!-- /ko -->
                    </ul>
                </div>
            </div>

            <!-- /ko -->


            <div class="row d-grid d-sm-flex justify-content-sm-center" style="margin-top: 30px" data-bind="foreach: records">
                <div class=" col-lg-4 col-md-6 col-sm-12" style="padding-bottom:60px">
                    <div class="card">
                        <div class="card-body bg-light">
                            <h5 class="card-title" data-bind="text: Year"></h5>
                            <a class="text-muted text-decoration-none" data-bind="attr: {href: Url, target:'blank'}"><i class="fa fa-external-link"></i> [<span class="" data-bind="text: Url"></span>]</a>

                        </div>
                        <a class="btn btn-danger" data-bind="attr: { href:'./seasonDetails.html?year=' + Year }"><i class="fa fa-eye"></i></a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-dark text-light">
                        <h5 class="modal-title" id="exampleModalLabel">
                            <img src="../images/F1_logo.png" height="30" /> Loading data...
                        </h5>
                    </div>
                    <div class="modal-body text-center">
                        <i class="fa fa-spin fa-3x fa-refresh"></i>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Working Area -->




        <footer class="text-center text-lg-start bg-white text-muted">

            <div class="container text-center text-md-start mt-5">
                <div class="row mt-3">
                    <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                        <h6 class="text-uppercase fw-bold mb-4" style="margin-top:30px">
                            <i class="fas fa-gem me-3"></i>
                        </h6>
                        <div>
                            <iframe width="350" height="280" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
                                    src="https://www.openstreetmap.org/export/embed.html?bbox=-8.662963807582857%2C40.63158680486605%2C-8.656767904758455%2C40.634114924693606&amp;layer=mapnik&amp;marker=40.63285291226819%2C-8.659527897834778"
                                    style="border: 1px solid black"></iframe><br />
                            <small>
                                <a href="https://www.openstreetmap.org/?mlat=40.63285&amp;mlon=-8.65953#map=19/40.63285/-8.65953"
                                   target="_blank">View Larger Map</a>
                            </small>
                        </div>
                    </div>

                    <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">

                        <h6 class="text-uppercase fw-bold mb-4" style="margin-top:30px">
                            Partners
                        </h6>
                        <p>
                            <img src="partners/crypto.png" style="height:75px" />
                        </p>
                        <p>
                            <img src="partners/dhl.png" style="height:75px" />
                        </p>
                        <p>
                            <img src="partners/emrates.png" style="height:75px" />
                        </p>

                    </div>

                    <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4 py-5">


                        <p>
                            <img src="partners/heineken.png" style="height: 75px" />
                        </p>
                        <p>
                            <img src="partners/pirelli.png" style="height: 75px" />

                        </p>
                        <p>
                            <img src="partners/rolex.png" style="height: 75px" />

                        </p>
                    </div>
                </div>
            </div>

            <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
                <center>Feito com muito &#128150; por Tomás e Gonçalo </center>
                © 2022
                <a style="color: grey;" href="https://www.ua.pt">Universidade de Aveiro</a>

            </div>

        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"
            integrity="sha256-hlKLmzaRlE8SCJC1Kw8zoUbU8BxA+8kR3gseuKfMjxA="
            crossorigin="anonymous"></script>
    <script src="seasons.js"></script>
    <script>
        $(document).ready(function () {
            $("#form1").autocomplete({
                minLength: 3,
                maxShowItems: 5,
                source: function (request, response) {
                    $.ajax({
                        type: "GET",
                        url: "http://192.168.160.58/Formula1/api/Search/All?q=" + $("#form1").val(),
                        dataType: "json",
                        success: function (data) {
                            var lista = [];
                            console.log(data)
                            var l = data.length
                            for (var i = 0; i < l; i++) {
                                lista.push({
                                    source: data[i].Source,
                                    label: data[i].Text,
                                    Id: data[i].Id,
                                })
                            }
                            console.log(lista)
                            response(lista);
                        },
                        error: function (result) {
                            alert(result.statusText);
                        }
                    });
                },
                select: function (event, ui) {
                    console.log(ui.item.Id)
                    switch (ui.item.source) {
                        case "Driver":
                            window.location.href = './driverDetails.html?id=' + ui.item.Id //link de details
                            break;
                        case "Race":
                            window.location.href = "./raceDetails.html?id=" + ui.item.Id
                            break
                        case "Circuit":
                            window.location.href = "./circuitDetails.html?id=" + ui.item.Id;
                            break

                        case "Constructor":
                            window.location.href = "./TeamsDetails.html?id=" + ui.item.Id;
                            break


                    }

                }

            });


        });
    </script>
</body>

</html>
